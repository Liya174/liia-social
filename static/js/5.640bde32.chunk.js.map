{"version":3,"sources":["Components/Users/Users.module.css","Components/Users/User/User.module.css","Components/common/Paginator/Paginator.module.css","Components/Users/User/User.jsx","img/arrowLeft.svg","img/arrowRight.svg","Components/common/Paginator/Paginator.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx"],"names":["module","exports","User","user","followingInProgress","followUser","unfollowUser","className","s","userAvatar","to","id","src","photos","small","userPhoto","alt","avatar","disabled","some","onClick","followed","button","userInfo","general","name","status","living","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pageNumberButtons","filter","p","map","pageNumber","selected","arrowButtons","arrowLeft","arrowRight","Users","totalUsersCount","users","userPage","subtitle","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","props","requestUsers","this","Preloader","React","Component","dispatchObject","setCurrentPage","toggleFollowingProgress","compose","connect"],"mappings":"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","file":"static/js/5.640bde32.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPage\":\"Users_userPage__2KRVQ\",\"subtitle\":\"Users_subtitle__1NcQK\",\"button\":\"Users_button__GVR79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"User_button__1nikb\",\"user\":\"User_user__avlCy\",\"userAvatar\":\"User_userAvatar__3FOHm\",\"avatar\":\"User_avatar__2zNet\",\"userInfo\":\"User_userInfo__1CpHB\",\"general\":\"User_general__DQeWU\",\"living\":\"User_living__3jGhu\",\"name\":\"User_name__1WIJC\",\"status\":\"User_status__sammY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__16sEE\",\"pageNumber\":\"Paginator_pageNumber__2XY6F\",\"selected\":\"Paginator_selected__2Uprh\",\"arrowButtons\":\"Paginator_arrowButtons__2qzas\"};","import userPhoto from \"../../../img/account.svg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport s from \"./User.module.css\";\r\n\r\nconst User = ({ user, followingInProgress, followUser, unfollowUser }) => {\r\n    return (\r\n        <div key={user.id} className={s.user}>\r\n            <div className={s.userAvatar}>\r\n                <NavLink to={`/profile/${user.id}`}>\r\n                    <img\r\n                        src={user.photos.small || userPhoto}\r\n                        alt=\"avatar\"\r\n                        className={s.avatar}\r\n                    />\r\n                </NavLink>\r\n\r\n                <button\r\n                    disabled={followingInProgress.some((id) => id === user.id)}\r\n                    onClick={() => {\r\n                        user.followed\r\n                            ? unfollowUser(user.id)\r\n                            : followUser(user.id);\r\n                    }}\r\n                    className={s.button}\r\n                >\r\n                    {user.followed ? \"Unfollow\" : \"Follow\"}\r\n                </button>\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div className={s.general}>\r\n                    <div className={s.name}>{user.name}</div>\r\n                    <div className={s.status}>\r\n                        {user.status || \"There is no status\"}\r\n                    </div>\r\n                </div>\r\n                <div className={s.living}>\r\n                    <div>{\"here would be country\"}</div>\r\n                    <div>{\"here would be city\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;\r\n","export default __webpack_public_path__ + \"static/media/arrowLeft.842e761b.svg\";","export default __webpack_public_path__ + \"static/media/arrowRight.e1da7cbe.svg\";","import s from \"./Paginator.module.css\";\r\nimport React, { useState } from \"react\";\r\nimport arrowLeft from \"../../../img/arrowLeft.svg\";\r\nimport arrowRight from \"../../../img/arrowRight.svg\";\r\n\r\nconst Paginator = ({\r\n    totalItemsCount,\r\n    pageSize,\r\n    currentPage,\r\n    onPageChanged,\r\n    portionSize = 10,\r\n}) => {\r\n    const pageCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    const pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    const pageNumberButtons = pages\r\n        .filter(\r\n            (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => (\r\n            <button\r\n                className={`${s.pageNumber} ${p === currentPage && s.selected}`}\r\n                onClick={() => onPageChanged(p)}\r\n                key={p}\r\n            >\r\n                {p}\r\n            </button>\r\n        ));\r\n\r\n    return (\r\n        <div className={s.pages}>\r\n            {portionNumber > 1 && (\r\n                <button\r\n                    className={s.arrowButtons}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber - 1);\r\n                        onPageChanged(leftPortionPageNumber - portionSize);\r\n                    }}\r\n                >\r\n                    <img src={arrowLeft} alt=\"left\" />\r\n                </button>\r\n            )}\r\n\r\n            {pageNumberButtons}\r\n\r\n            {portionNumber < portionCount && (\r\n                <button\r\n                    className={s.arrowButtons}\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber + 1);\r\n                        onPageChanged(leftPortionPageNumber + portionSize);\r\n                    }}\r\n                >\r\n                    <img src={arrowRight} alt=\"right\" />\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport React from \"react\";\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = ({\r\n    totalUsersCount,\r\n    pageSize,\r\n    currentPage,\r\n    onPageChanged,\r\n    users,\r\n    followingInProgress,\r\n    followUser,\r\n    unfollowUser,\r\n    ...props\r\n}) => {\r\n    return (\r\n        <div className={s.userPage}>\r\n            <h2 className={s.subtitle}>Users</h2>\r\n            <Paginator\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n            />\r\n            <div>\r\n                {users.map((user) => (\r\n                    <User\r\n                        key={user.id}\r\n                        user={user}\r\n                        followingInProgress={followingInProgress}\r\n                        followUser={followUser}\r\n                        unfollowUser={unfollowUser}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport {\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers,\r\n    unfollowUser,\r\n    followUser,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const { pageSize, currentPage } = this.props;\r\n        this.props.requestUsers(pageSize, currentPage);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props;\r\n        this.props.requestUsers(pageSize, pageNumber);\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            users,\r\n            totalUsersCount,\r\n            pageSize,\r\n            followUser,\r\n            unfollowUser,\r\n            currentPage,\r\n            followingInProgress,\r\n        } = this.props;\r\n\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <Users\r\n                    users={users}\r\n                    totalUsersCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                    followingInProgress={followingInProgress}\r\n                    currentPage={currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    followUser={followUser}\r\n                    unfollowUser={unfollowUser}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    };\r\n};\r\n\r\nconst dispatchObject = {\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers,\r\n    unfollowUser,\r\n    followUser,\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, dispatchObject))(\r\n    UsersContainer\r\n);\r\n"],"sourceRoot":""}