(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),a=n(102),c=n(101),i=n(1),s=n(71),o=n.n(s),u=function(e){return function(t){var n=t.input,s=Object(c.a)(t.meta,2),u=s[0],l=s[1],d=Object(a.a)(t,["input","meta"]),f=u&&l;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(e,Object(r.a)(Object(r.a)(Object(r.a)({},d),n),{},{className:"".concat(d.className," ").concat(f?o.a.error:"")})),"checkbox"!==d.type?Object(i.jsx)("div",{className:"".concat(o.a.errorText," ").concat(f?o.a.errorOn:""),children:l}):""]})}}},134:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(39),a=n(5),c=n(67),i=n.p+"static/media/avatar_02.036e5fe1.jpg",s=n(68),o=n.p+"static/media/avatar_04.905e3bd8.jpg",u=n(69),l="dialogs/ADD-MESSAGE",d={messages:[{id:1,text:"hi",author:"user"},{id:2,text:"hey you",author:"friend"},{id:3,text:"how are you?",author:"user"},{id:4,text:"ok, and you?",author:"friend"},{id:5,text:"ok, bye",author:"user"},{id:6,text:"gb",author:"friend"}],usersData:[{id:1,name:"Konstantino",avatarSrc:c.a},{id:2,name:"Farida",avatarSrc:i},{id:3,name:"Hellen",avatarSrc:s.a},{id:4,name:"Dina",avatarSrc:u.a},{id:5,name:"Nicola",avatarSrc:o}]},f=function(e){return{type:l,message:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:e.messages.length+1,text:t.message,author:"user"};return Object(a.a)(Object(a.a)({},e),{},{newMessageText:"",messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},136:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return N})),n.d(t,"b",(function(){return S}));var r=n(9),a=n.n(r),c=n(13),i=n(39),s=n(5),o=n(19),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(s.a)(Object(s.a)({},e),r):e}))},l="user/FOLLOW",d="user/UNFOLLOW",f="user/SET-USERS",b="user/SET-CURRENT-PAGE",j="user/SET-TOTAL-USER-PAGE",p="user/TOGGLE_IS_FETCHING",h="user/TOGGLE_FOLLOWING_IN_PROGRESS",g={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},O=function(e){return{type:l,userId:e}},m=function(e){return{type:d,userId:e}},v=function(e){return{type:b,currentPage:e}},_=function(e){return{type:p,isFetching:e}},x=function(e,t){return{type:h,followingProgress:e,userId:t}},w=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),r(v(t)),n.next=4,o.d.getUsers(e,t);case 4:c=n.sent,r(_(!1)),r((i=c.items,{type:f,users:i})),r((a=c.totalCount,{type:j,totalUsersCount:a}));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(c(n)),t(x(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k(n,e,o.b.unfollowUser.bind(e),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k(n,e,o.b.followUser.bind(e),O);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case f:return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case b:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case j:return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:+t.totalUsersCount});case p:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case h:return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.followingProgress?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},141:function(e,t,n){e.exports={nav:"Navbar_nav__2DP29"}},19:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var r=n(138),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b7c85ce9-490e-4a6c-ad65-e884e00fc7ab"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))}},i={unfollowUser:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return a.post("follow/".concat(e),{}).then((function(e){return e.data}))}},s={getProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return a.put("profile/status",{status:e}).then((function(e){return e.data}))}},o={authMe:function(){return a.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return a.delete("auth/login").then((function(e){return e.data}))}}},20:function(e,t,n){e.exports={loginPage:"Login_loginPage__21l6V",subtitle:"Login_subtitle__Si-Bj",form:"Login_form__gOJeO",input:"Login_input__16zVZ",checkboxLine:"Login_checkboxLine__XMAH3",checkbox:"Login_checkbox__2N1PI",errorField:"Login_errorField__6KUfg",active:"Login_active__14Umg",submit:"Login_submit__1MSon"}},253:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},29:function(e,t,n){e.exports={header:"Header_header__10hW6",logo:"Header_logo__2lBA7",loginBlock:"Header_loginBlock__32cfL",userAvatar:"Header_userAvatar__1HqMW",userName:"Header_userName__2Z8sq",loginLink:"Header_loginLink__1521W",logout:"Header_logout__351jR"}},295:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(64),s=n.n(i),o=n(52),u=n(53),l=n(63),d=n(62),f=n(10),b=n(137),j=n(135),p=n(99),h=n(134),g=n(67),O=n(68),m=n(69),v={friendsList:[{id:1,name:"Konstantino",avatarSrc:g.a},{id:2,name:"Hellen",avatarSrc:O.a},{id:3,name:"Dina",avatarSrc:m.a}],navItems:[{name:"Profile",href:"/profile",id:0},{name:"Messages",href:"/dialogs",id:1},{name:"News",href:"/news",id:2},{name:"Music",href:"/music",id:3},{name:"Users",href:"/users",id:4},{name:"Settings",href:"/settings",id:5}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return e},x=n(136),w=n(9),k=n.n(w),N=n(13),S=n(5),y=n(19),P=n(51),I="auth/SET_USER_DATA",L="auth/TOGGLE_IS_FETCHING",E="auth/SET_USER_PROFILE",C={id:null,email:null,login:null,isAuth:!1,isFetching:!1,avatar:null},F=function(e,t,n,r){return{type:I,payload:{id:e,email:t,login:n,isAuth:r}}},A=function(e){return{type:L,isFetching:e}},T=function(){return function(){var e=Object(N.a)(k.a.mark((function e(t){var n,r,a,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A(!0)),e.next=3,y.a.authMe();case 3:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,c=r.email,i=r.login,t(A(!1)),t(F(a,c,i,!0)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.logout();case 2:0===e.sent.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(S.a)(Object(S.a)({},e),t.payload);case L:return Object(S.a)(Object(S.a)({},e),{},{isFetching:t.isFetching});case E:return Object(S.a)(Object(S.a)({},e),{},{avatar:t.avatar});default:return e}},M="app/INITIALIZED_SUCCESS",H={initialized:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(S.a)(Object(S.a)({},e),{},{initialized:!0});default:return e}},z=Object(f.c)({profilePage:p.b,dialogsPage:h.a,navbarPage:_,usersPage:x.a,auth:B,app:R,form:j.a}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,G=Object(f.e)(z,D(Object(f.a)(b.a)));window.store=G;var W=G,K=n(16),X=n(11),Z=n(30),q=(n(253),n(29)),J=n.n(q),V=n.p+"static/media/logo.3884a642.svg",Y=n(98),Q=function(e){return Object(r.jsxs)("header",{className:J.a.header,children:[Object(r.jsx)("a",{href:"#s",children:Object(r.jsx)("img",{className:J.a.logo,src:V,alt:"logo"})}),Object(r.jsx)("div",{className:J.a.loginBlock,children:e.isAuth?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("img",{className:J.a.userAvatar,src:e.avatar?e.avatar:Y.a,alt:"avatar"}),Object(r.jsx)("p",{className:J.a.userName,children:e.login}),Object(r.jsx)("button",{onClick:function(){return e.logout()},className:J.a.logout,children:"LogOut"})]}):Object(r.jsx)(Z.b,{to:"./login",className:J.a.loginLink,children:"LogIn"})})]})},$=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Q,Object(S.a)({},this.props))}}]),n}(c.a.Component),ee={logout:U},te=Object(K.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,login:t.login,avatar:t.avatar}}),ee)($),ne=n(141),re=n.n(ne),ae=n(50),ce=n.n(ae),ie=function(e){return Object(r.jsx)("div",{className:ce.a.navigationBlock,children:e.navItems.map((function(e){var t=e.name,n=e.href,a=e.id;return Object(r.jsx)("div",{className:ce.a.item,children:Object(r.jsx)(Z.b,{className:"".concat(ce.a.link),activeClassName:ce.a.active,to:n,children:t})},a)}))})},se=n(40),oe=n.n(se),ue=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{className:oe.a.subtitle,children:"Friends"}),Object(r.jsx)("div",{className:oe.a.friends,children:e.friendsList.map((function(e){var t=e.id,n=e.name,a=e.avatarSrc;return Object(r.jsxs)("div",{className:oe.a.friend,children:[Object(r.jsx)("img",{className:oe.a.friendAvatar,src:a,alt:"avatar"}),Object(r.jsx)("p",{className:oe.a.friendName,children:n})]},t)}))})]})},le=function(e){return Object(r.jsxs)("div",{className:re.a.nav,children:[Object(r.jsx)(ie,{navItems:e.navbarPage.navItems}),Object(r.jsx)(ue,{friendsList:e.navbarPage.friendsList})]})},de=Object(K.b)((function(e){return{navbarPage:e.navbarPage}}))(le),fe=(n(255),function(e){return Object(r.jsx)("div",{className:"",children:"News"})}),be=(n(256),function(e){return Object(r.jsx)("div",{className:"",children:"Music"})}),je=(n(257),function(e){return Object(r.jsx)("div",{className:"",children:"Settings"})}),pe=n(20),he=n.n(pe),ge=n(132),Oe=n(133),me=n(88),ve=n(100),_e=Object(ve.a)("input"),xe=Object(Oe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsxs)("form",{className:he.a.form,onSubmit:t,children:[Object(r.jsx)(ge.a,{component:_e,className:he.a.input,placeholder:"email",type:"text",name:"email",validate:[me.b]}),Object(r.jsx)(ge.a,{component:_e,className:he.a.input,placeholder:"password",type:"password",name:"password",validate:[me.b]}),Object(r.jsxs)("div",{className:he.a.checkboxLine,children:[Object(r.jsx)(ge.a,{component:_e,className:he.a.checkbox,type:"checkbox",name:"rememberMe"}),Object(r.jsx)("label",{children:"Remember me"})]}),Object(r.jsx)("div",{className:"".concat(he.a.errorField," ").concat(n?he.a.active:""),children:n}),Object(r.jsx)("button",{className:he.a.submit,children:"Login"})]})})),we=Object(K.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(N.a)(k.a.mark((function r(a){var c,i;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y.a.login(e,t,n);case 2:0===(c=r.sent).resultCode?a(T()):(i=c.messages.length>0?c.messages[0]:"Some error",a(Object(P.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logout:U})((function(e){return e.isAuth?Object(r.jsx)(X.a,{to:"/profile"}):Object(r.jsxs)("div",{className:he.a.loginPage,children:[Object(r.jsx)("h1",{className:he.a.subtitle,children:"Login"}),Object(r.jsx)(xe,{onSubmit:function(t){var n=t.email,r=t.password,a=t.rememberMe;e.login(n,r,a)}})]})})),ke=n(91),Ne=c.a.lazy((function(){return n.e(4).then(n.bind(null,309))})),Se=c.a.lazy((function(){return n.e(3).then(n.bind(null,310))})),ye=c.a.lazy((function(){return n.e(5).then(n.bind(null,311))})),Pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(te,{}),Object(r.jsx)(de,{}),Object(r.jsx)("div",{className:"app-wrapper-content",children:Object(r.jsx)(c.a.Suspense,{fallback:Object(r.jsx)(ke.a,{}),children:Object(r.jsxs)(X.d,{children:[Object(r.jsx)(X.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(Ne,{})}}),Object(r.jsx)(X.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Se,{})}}),Object(r.jsx)(X.b,{path:"/news",render:function(){return Object(r.jsx)(fe,{})}}),Object(r.jsx)(X.b,{path:"/music",render:function(){return Object(r.jsx)(be,{})}}),Object(r.jsx)(X.b,{path:"/users",render:function(){return Object(r.jsx)(ye,{})}}),Object(r.jsx)(X.b,{path:"/settings",render:function(){return Object(r.jsx)(je,{})}}),Object(r.jsx)(X.b,{path:"/login",render:function(){return Object(r.jsx)(we,{})}})]})})})]}):Object(r.jsx)(ke.a,{})}}]),n}(c.a.Component),Ie=Object(f.d)(X.g,Object(K.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(T());case 2:t({type:M});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Pe),Le=function(){return Object(r.jsx)(Z.a,{children:Object(r.jsx)(K.a,{store:W,children:Object(r.jsx)(Ie,{})})})};n(295);s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Le,{})}),document.getElementById("root"))},40:function(e,t,n){e.exports={friends:"FriendsBlock_friends__WgPj8",subtitle:"FriendsBlock_subtitle__19SYA",friend:"FriendsBlock_friend__2kcuW",friendAvatar:"FriendsBlock_friendAvatar__129nd",friendName:"FriendsBlock_friendName__3XbkQ"}},50:function(e,t,n){e.exports={navigationBlock:"NavigationBlock_navigationBlock__B5W_N",item:"NavigationBlock_item__1GT_e",link:"NavigationBlock_link__22aD8",active:"NavigationBlock_active__1zZ50"}},67:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar_01.fb0f940f.jpg"},68:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar_03.fe3ee50b.jpg"},69:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar_05.d299d22a.jpg"},71:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1H84d",checkbox:"FormsControls_checkbox__2IaXu",error:"FormsControls_error__1lEg0",errorText:"FormsControls_errorText__i3l90",errorOn:"FormsControls_errorOn__9TaAb"}},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e)}}},91:function(e,t,n){"use strict";var r=n(1),a=n.p+"static/media/loader.ba725e33.svg",c=n(97),i=n.n(c);t.a=function(){return Object(r.jsx)("div",{className:i.a.preloader,children:Object(r.jsx)("img",{className:i.a.image,src:a,alt:"preloader"})})}},97:function(e,t,n){e.exports={preloader:"Preloader_preloader__2A3Pl",image:"Preloader_image__2Kskj"}},98:function(e,t,n){"use strict";t.a=n.p+"static/media/account.a27af2f5.svg"},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return O}));var r=n(9),a=n.n(r),c=n(13),i=n(39),s=n(5),o=n(19),u="profile/ADD_POST",l="profile/DELETE_POST",d="profile/SET_USER_PROFILE",f="profile/SET_USER_STATUS",b={postsInfo:[{id:1,message:"Hi. How are you?",likeCount:1},{id:2,message:"It is my post",likeCount:10},{id:3,message:"Two",likeCount:30},{id:4,message:"One",likeCount:6}],userProfile:null,userStatus:""},j=function(e){return{type:u,post:e}},p=function(e){return{type:f,userStatus:e}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getProfile(e);case 2:r=t.sent,n({type:d,userProfile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getStatus(e);case 2:r=t.sent,n(p(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.updateStatus(e);case 2:0===t.sent.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:e.postsInfo.length+1,message:t.post,likeCount:0};return Object(s.a)(Object(s.a)({},e),{},{newPostText:"",postsInfo:[].concat(Object(i.a)(e.postsInfo),[n])});case d:return Object(s.a)(Object(s.a)({},e),{},{userProfile:t.userProfile});case f:return Object(s.a)(Object(s.a)({},e),{},{userStatus:t.userStatus});case l:return Object(s.a)(Object(s.a)({},e),{},{postsInfo:e.postsInfo.filter((function(e){return e.id!==t.postId}))});default:return e}}}},[[296,1,2]]]);
//# sourceMappingURL=main.45b57a8d.chunk.js.map